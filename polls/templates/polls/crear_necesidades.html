{% extends 'base.html' %}

{% block content %}
  <h2>Necesidades de Cooperación para {{ reporte }}</h2>

  <form method="POST">
    {% csrf_token %}

    <!-- Checkbox para necesidad identificada -->
    <div class="form-check">
      <input type="checkbox" id="necesidad_identificado" name="necesidad_identificado" 
             {% if form.necesidad_identificado.value %} checked {% endif %}
             onclick="toggleFields()">
      <label for="necesidad_identificado">Necesidad Identificada</label>
    </div>

    

    <!-- Campo de texto para necesidades identificadas -->
    <div class="form-group">
      <label for="{{ form.necesidades_identificadas.id_for_label }}">Necesidades Identificadas:</label>
      {{ form.necesidades_identificadas }}
    </div>
    

    <!-- Checkbox para cooperante identificado -->
    <div class="form-check">
      <input type="checkbox" id="cooperante_identificado" name="cooperante_identificado" 
             {% if form.cooperante_identificado.value %} checked {% endif %}
             onclick="toggleFields()">
      <label for="cooperante_identificado">Cooperante Identificado</label>
    </div>

    <!-- Campo de texto para cooperante -->
    <div class="form-group">
      <label for="{{ form.cooperante.id_for_label }}">Cooperante:</label>
      {{ form.cooperante }}
    </div>

    <button type="submit" class="btn btn-primary">Guardar</button>
  </form>

{% endblock %}

{% block extra_js %}
<script type="text/javascript">
  function toggleFields() {
    var necesidadIdentificado = document.getElementById('necesidad_identificado').checked;
    var cooperanteIdentificado = document.getElementById('cooperante_identificado').checked;

    document.getElementById('id_necesidades_identificadas').disabled = !necesidadIdentificado;
    document.getElementById('id_cooperante').disabled = !cooperanteIdentificado;
  }

  // Inicializar el estado de los campos en base a los valores del formulario al cargar la página
  document.addEventListener('DOMContentLoaded', function() {
    toggleFields();
  });
</script>
{% endblock %}
